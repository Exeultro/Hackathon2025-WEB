<template>
  <div class="min-h-screen bg-white pt-20 px-6 container mx-auto max-w-6xl">
    <h1 class="text-4xl font-bold text-apogee-dark mb-12 py-8">–ö–∞—Ä—å–µ—Ä–Ω—ã–µ –ø—É—Ç–∏ –≤ 1–°</h1>

    <!-- Toggle buttons for career paths -->
    <div class="inline-flex rounded-lg border border-gray-300 overflow-hidden mb-12">
      <button
        @click="selectedPath = 'programmer'"
        :class="[
          'px-6 py-3 font-semibold transition-colors focus:outline-none',
          selectedPath === 'programmer' 
            ? 'bg-apogee-red text-white shadow-md' 
            : 'bg-white text-gray-700 hover:bg-apogee-red hover:text-white'
        ]"
      >–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç 1–°</button>
      <button
        @click="selectedPath = 'consultant'"
        :class="[
          'px-6 py-3 font-semibold transition-colors focus:outline-none',
          selectedPath === 'consultant' 
            ? 'bg-apogee-red text-white shadow-md' 
            : 'bg-white text-gray-700 hover:bg-apogee-red hover:text-white'
        ]"
      >–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç 1–°</button>
    </div>

    <section class="mb-16" v-if="selectedPath === 'programmer'">
      <h2 class="text-3xl font-semibold mb-6 border-b border-apogee-red inline-block pb-2">–ö–∞—Ä—å–µ—Ä–Ω—ã–π –ø—É—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞</h2>
      <div class="flex flex-col lg:flex-row gap-12">
        <!-- Steps -->
        <div class="flex-1">
          <div v-for="(step, index) in programmerPath" :key="step.title" class="mb-8 last:mb-0">
            <div class="flex items-center space-x-6">
              <div class="w-14 min-w-[3.5rem] h-14 flex items-center justify-center rounded-full bg-apogee-red text-white text-xl font-semibold text-center">
                {{ index + 1 }}
              </div>
              <div>
                <h3 class="text-xl font-semibold text-apogee-dark">{{ step.title }}</h3>
                <p class="text-gray-600 mt-1">{{ step.description }}</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Salary -->
        <div class="flex-1 bg-apogee-red bg-opacity-10 p-6 rounded-lg">
          <h3 class="text-2xl font-semibold text-apogee-red mb-4">–†–æ—Å—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã</h3>
          <ul class="space-y-4">
            <li v-for="(step, index) in programmerPath" :key="'salary' + index" class="flex justify-between text-apogee-dark font-semibold">
              <span>{{ step.title }}</span>
              <span>{{ step.salary }}</span>
            </li>
          </ul>
          
          <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ -->
          <div class="mt-8 space-y-4">
            <!-- –ö–Ω–æ–ø–∫–∞ –ó–ê–ü–ò–°–¨ –ù–ê –ü–†–ê–ö–¢–ò–ö–£ -->
            <button 
              @click="openApplicationModal('programmer', 'internship')"
              class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"
            >
              <span>üéì</span>
              <span>–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É</span>
            </button>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –û–¢–ö–õ–ò–ö–ù–£–¢–¨–°–Ø -->
            <button 
              @click="openApplicationModal('programmer', 'regular')"
              class="w-full bg-apogee-red text-white py-4 rounded-xl font-semibold hover:bg-apogee-darkRed transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"
            >
              <span>üíº</span>
              <span>–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</span>
            </button>
          </div>
        </div>
      </div>
    </section>

    <section class="mb-16" v-else-if="selectedPath === 'consultant'">
      <h2 class="text-3xl font-semibold mb-6 border-b border-apogee-red inline-block pb-2">–ö–∞—Ä—å–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞</h2>
      <div class="flex flex-col lg:flex-row gap-12">
        <!-- Steps -->
        <div class="flex-1">
          <div v-for="(step, index) in consultantPath" :key="step.title" class="mb-8 last:mb-0">
            <div class="flex items-center space-x-6">
              <div class="w-14 min-w-[3.5rem] h-14 flex items-center justify-center rounded-full bg-apogee-red text-white text-xl font-semibold text-center">
                {{ index + 1 }}
              </div>
              <div>
                <h3 class="text-xl font-semibold text-apogee-dark">{{ step.title }}</h3>
                <p class="text-gray-600 mt-1">{{ step.description }}</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Salary -->
        <div class="flex-1 bg-apogee-red bg-opacity-10 p-6 rounded-lg">
          <h3 class="text-2xl font-semibold text-apogee-red mb-4">–†–æ—Å—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã</h3>
          <ul class="space-y-4">
            <li v-for="(step, index) in consultantPath" :key="'salary-consultant' + index" class="flex justify-between text-apogee-dark font-semibold">
              <span>{{ step.title }}</span>
              <span>{{ step.salary }}</span>
            </li>
          </ul>
          
          <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞ -->
          <div class="mt-8 space-y-4">
            <!-- –ö–Ω–æ–ø–∫–∞ –ó–ê–ü–ò–°–¨ –ù–ê –ü–†–ê–ö–¢–ò–ö–£ -->
            <button 
              @click="openApplicationModal('consultant', 'internship')"
              class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"
            >
              <span>üéì</span>
              <span>–ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É</span>
            </button>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –û–¢–ö–õ–ò–ö–ù–£–¢–¨–°–Ø -->
            <button 
              @click="openApplicationModal('consultant', 'regular')"
              class="w-full bg-apogee-red text-white py-4 rounded-xl font-semibold hover:bg-apogee-darkRed transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"
            >
              <span>üíº</span>
              <span>–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</span>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞—è–≤–∫–∏ –Ω–∞ –ü–†–ê–ö–¢–ò–ö–£ -->
    <div v-if="showApplicationModal && applicationType === 'internship'" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
      <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
        <div class="sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl flex justify-between items-center">
          <div>
            <h2 class="text-2xl font-bold text-apogee-dark">–ó–∞—è–≤–∫–∞ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É</h2>
            <p class="text-gray-600 mt-1">{{ getSelectedPathTitle() }}</p>
          </div>
          <button @click="closeApplicationModal" class="text-gray-400 hover:text-gray-600 text-2xl">
            √ó
          </button>
        </div>

        <div class="p-6">
          <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ -->
          <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl">
            <h3 class="font-semibold text-blue-800 mb-2">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</h3>
            <p class="text-blue-700">{{ getSelectedPathTitle() }}</p>
            <p class="text-sm text-blue-600 mt-1">
              {{ getSelectedPathDescription() }}
            </p>
          </div>

          <form @submit.prevent="submitApplication">
            <!-- –°—Ç—É–¥–µ–Ω—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl">
              <h3 class="font-semibold text-blue-800 mb-3 flex items-center space-x-2">
                <span>üéì</span>
                <span>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—É–¥–µ–Ω—Ç–µ</span>
              </h3>
              
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–§–∞–º–∏–ª–∏—è *</label>
                  <input 
                    v-model="applicationForm.lastName"
                    type="text" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="–ò–≤–∞–Ω–æ–≤"
                  >
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–ò–º—è *</label>
                  <input 
                    v-model="applicationForm.firstName"
                    type="text" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="–ò–≤–∞–Ω"
                  >
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–û—Ç—á–µ—Å—Ç–≤–æ</label>
                  <input 
                    v-model="applicationForm.middleName"
                    type="text" 
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="–ò–≤–∞–Ω–æ–≤–∏—á"
                  >
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">Email *</label>
                  <input 
                    v-model="applicationForm.email"
                    type="email" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="ivanov@example.com"
                  >
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                  <input 
                    v-model="applicationForm.phone"
                    type="tel" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="+7 (999) 999-99-99"
                  >
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–ì–æ—Ä–æ–¥ *</label>
                  <input 
                    v-model="applicationForm.city"
                    type="text" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫"
                  >
                </div>
              </div>
            </div>

            <!-- –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ -->
            <div class="mb-6 p-4 bg-green-50 border border-green-200 rounded-xl">
              <h3 class="font-semibold text-green-800 mb-3 flex items-center space-x-2">
                <span>üìö</span>
                <span>–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</span>
              </h3>

              <div class="mb-4">
                <label class="block text-sm font-semibold text-gray-700 mb-2">–£—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ *</label>
                <input 
                  v-model="applicationForm.education"
                  type="text" 
                  required
                  class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                  placeholder="–°–∏–±–∏—Ä—Å–∫–∏–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç"
                >
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–§–∞–∫—É–ª—å—Ç–µ—Ç *</label>
                  <input 
                    v-model="applicationForm.faculty"
                    type="text" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="–ò–Ω—Å—Ç–∏—Ç—É—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏"
                  >
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–ö—É—Ä—Å *</label>
                  <select 
                    v-model="applicationForm.course"
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                  >
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫—É—Ä—Å</option>
                    <option value="1">1 –∫—É—Ä—Å</option>
                    <option value="2">2 –∫—É—Ä—Å</option>
                    <option value="3">3 –∫—É—Ä—Å</option>
                    <option value="4">4 –∫—É—Ä—Å</option>
                    <option value="5">5 –∫—É—Ä—Å</option>
                    <option value="6">–ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞</option>
                  </select>
                </div>
              </div>

              <!-- –ü–µ—Ä–∏–æ–¥ –ø—Ä–∞–∫—Ç–∏–∫–∏ -->
              <div>
                <label class="block text-sm font-semibold text-gray-700 mb-2">–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –ø—Ä–∞–∫—Ç–∏–∫–∏ *</label>
                <select 
                  v-model="applicationForm.preferred_period"
                  required
                  class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                >
                  <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥</option>
                  <option value="summer_2024">–õ–µ—Ç–æ 2024 (–ò—é–Ω—å - –ê–≤–≥—É—Å—Ç)</option>
                  <option value="autumn_2024">–û—Å–µ–Ω—å 2024 (–°–µ–Ω—Ç—è–±—Ä—å - –î–µ–∫–∞–±—Ä—å)</option>
                  <option value="winter_2025">–ó–∏–º–∞ 2025 (–Ø–Ω–≤–∞—Ä—å - –ú–∞—Ä—Ç)</option>
                </select>
              </div>
            </div>

            <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="mb-6">
              <label class="block text-sm font-semibold text-gray-700 mb-2">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã/—É—á–µ–±–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã</label>
              <textarea 
                v-model="applicationForm.experience"
                rows="4"
                class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300 resize-none"
                placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã, —É—á–µ–±–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, —É—á–∞—Å—Ç–∏–µ –≤ —Ö–∞–∫–∞—Ç–æ–Ω–∞—Ö, –∫—É—Ä—Å–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã..."
              ></textarea>
            </div>

            <div class="mb-6">
              <label class="block text-sm font-semibold text-gray-700 mb-2">–ü–æ—á–µ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–π—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –≤ –ê–ø–æ–≥–µ–µ? *</label>
              <textarea 
                v-model="applicationForm.motivation"
                rows="3"
                required
                class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300 resize-none"
                placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–π –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–æ–π—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫—É, –∫–∞–∫–∏–µ –Ω–∞–≤—ã–∫–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å..."
              ></textarea>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200">
              <button 
                type="submit"
                class="flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"
                :disabled="isSubmitting"
              >
                <span v-if="isSubmitting" class="animate-spin">‚è≥</span>
                <span v-else>üéì</span>
                <span>{{ isSubmitting ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : '–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É' }}</span>
              </button>
              <button 
                type="button"
                @click="closeApplicationModal"
                class="flex-1 border-2 border-gray-400 text-gray-600 py-4 rounded-xl font-semibold hover:bg-gray-400 hover:text-white transition-all duration-300"
              >
                –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –û–¢–ö–õ–ò–ö–ê –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é -->
    <div v-if="showApplicationModal && applicationType === 'regular'" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
      <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
        <div class="sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl flex justify-between items-center">
          <div>
            <h2 class="text-2xl font-bold text-apogee-dark">–û—Ç–∫–ª–∏–∫ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é</h2>
            <p class="text-gray-600 mt-1">{{ getSelectedPathTitle() }}</p>
          </div>
          <button @click="closeApplicationModal" class="text-gray-400 hover:text-gray-600 text-2xl">
            √ó
          </button>
        </div>

        <div class="p-6">
          <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ -->
          <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl">
            <h3 class="font-semibold text-blue-800 mb-2">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</h3>
            <p class="text-blue-700">{{ getSelectedPathTitle() }}</p>
            <p class="text-sm text-blue-600 mt-1">
              {{ getSelectedPathDescription() }}
            </p>
          </div>

          <form @submit.prevent="submitApplication">
            <!-- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
            <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl">
              <h3 class="font-semibold text-blue-800 mb-3 flex items-center space-x-2">
                <span>üë§</span>
                <span>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</span>
              </h3>
              
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–§–∞–º–∏–ª–∏—è *</label>
                  <input 
                    v-model="applicationForm.lastName"
                    type="text" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="–ò–≤–∞–Ω–æ–≤"
                  >
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–ò–º—è *</label>
                  <input 
                    v-model="applicationForm.firstName"
                    type="text" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="–ò–≤–∞–Ω"
                  >
                </div>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">Email *</label>
                  <input 
                    v-model="applicationForm.email"
                    type="email" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="ivanov@example.com"
                  >
                </div>
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                  <input 
                    v-model="applicationForm.phone"
                    type="tel" 
                    required
                    class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                    placeholder="+7 (999) 999-99-99"
                  >
                </div>
              </div>

              <div>
                <label class="block text-sm font-semibold text-gray-700 mb-2">–ì–æ—Ä–æ–¥ *</label>
                <input 
                  v-model="applicationForm.city"
                  type="text" 
                  required
                  class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                  placeholder="–ú–æ—Å–∫–≤–∞"
                >
              </div>
            </div>

            <!-- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="mb-6">
              <label class="block text-sm font-semibold text-gray-700 mb-2">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã *</label>
              <textarea 
                v-model="applicationForm.experience"
                rows="4"
                required
                class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300 resize-none"
                placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç, –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è..."
              ></textarea>
            </div>

            <div class="mb-6">
              <label class="block text-sm font-semibold text-gray-700 mb-2">–ü–æ—á–µ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –ê–ø–æ–≥–µ–µ? *</label>
              <textarea 
                v-model="applicationForm.motivation"
                rows="3"
                required
                class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300 resize-none"
                placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–π –º–æ—Ç–∏–≤–∞—Ü–∏–∏, –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–ª–∏ –Ω–∞—à—É –∫–æ–º–ø–∞–Ω–∏—é..."
              ></textarea>
            </div>

            <!-- –†–µ–∑—é–º–µ -->
            <div class="mb-6">
              <label class="block text-sm font-semibold text-gray-700 mb-2">–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–∑—é–º–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
              <input 
                v-model="applicationForm.resume_url"
                type="url"
                class="w-full p-3 border-2 border-gray-300 rounded-xl focus:border-apogee-red focus:ring-2 focus:ring-red-100 transition-all duration-300"
                placeholder="https://hh.ru/resume/..."
              >
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200">
              <button 
                type="submit"
                class="flex-1 bg-apogee-red text-white py-4 rounded-xl font-semibold hover:bg-apogee-darkRed transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2"
                :disabled="isSubmitting"
              >
                <span v-if="isSubmitting" class="animate-spin">‚è≥</span>
                <span v-else>üíº</span>
                <span>{{ isSubmitting ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∫–ª–∏–∫' }}</span>
              </button>
              <button 
                type="button"
                @click="closeApplicationModal"
                class="flex-1 border-2 border-gray-400 text-gray-600 py-4 rounded-xl font-semibold hover:bg-gray-400 hover:text-white transition-all duration-300"
              >
                –û—Ç–º–µ–Ω–∞
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'CareerPaths',
  data() {
    return {
      selectedPath: 'programmer',
      showApplicationModal: false,
      applicationType: 'regular',
      isSubmitting: false,
      applicationForm: {
        lastName: '',
        firstName: '',
        middleName: '',
        email: '',
        phone: '',
        city: '',
        education: '',
        faculty: '',
        course: '',
        preferred_period: '',
        experience: '',
        motivation: '',
        resume_url: ''
      },
      programmerPath: [
        {
          title: '–°—Ç–∞–∂–µ—Ä',
          description: '–ù–∞—á–∏–Ω–∞—é—â–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç, –æ–±—É—á–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–∞–º –∏ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á–∞—Ö.',
          salary: '30 000 ‚ÇΩ'
        },
        {
          title: '–ú–ª–∞–¥—à–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç',
          description: '–û—Å–≤–∞–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É, –¥–µ–π—Å—Ç–≤—É–µ—Ç –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º —Å—Ç–∞—Ä—à–∏—Ö –∫–æ–ª–ª–µ–≥.',
          salary: '50 000 ‚ÇΩ'
        },
        {
          title: '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç',
          description: '–í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ—à–µ–Ω–∏–π –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.',
          salary: '80 000 ‚ÇΩ'
        },
        {
          title: '–°—Ç–∞—Ä—à–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç',
          description: '–†—É–∫–æ–≤–æ–¥–∏—Ç –Ω–µ–±–æ–ª—å—à–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏, —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –æ–±—É—á–∞–µ—Ç –º–ª–∞–¥—à–∏—Ö.',
          salary: '120 000 ‚ÇΩ'
        },
        {
          title: '–¢–∏–º–ª–∏–¥',
          description: '–£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏ —Å—Ä–æ–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.',
          salary: '160 000 ‚ÇΩ'
        },
        {
          title: '–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–æ–≤',
          description: '–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–æ–≤, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å –∑–∞–∫–∞–∑—á–∏–∫–∞–º–∏ –∏ —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á.',
          salary: '200 000 ‚ÇΩ'
        }
      ],
      consultantPath: [
        {
          title: '–ù–∞—á–∏–Ω–∞—é—â–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
          description: '–ò–∑—É—á–∞–µ—Ç –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª 1–°.',
          salary: '35 000 ‚ÇΩ'
        },
        {
          title: '–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
          description: '–ü—Ä–æ–≤–æ–¥–∏—Ç –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π, –≤–Ω–µ–¥—Ä—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤.',
          salary: '60 000 ‚ÇΩ'
        },
        {
          title: '–í–µ–¥—É—â–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
          description: '–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–æ–≤.',
          salary: '90 000 ‚ÇΩ'
        },
        {
          title: '–ê–Ω–∞–ª–∏—Ç–∏–∫ ERP',
          description: '–£–ø—Ä–∞–≤–ª—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π ERP-—Å–∏—Å—Ç–µ–º, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.',
          salary: '130 000 ‚ÇΩ'
        }
      ]
    }
  },
  methods: {
    openApplicationModal(path, type) {
      this.selectedPath = path
      this.applicationType = type
      this.showApplicationModal = true
    },

    closeApplicationModal() {
      this.showApplicationModal = false
      this.resetForm()
    },

    resetForm() {
      this.applicationForm = {
        lastName: '',
        firstName: '',
        middleName: '',
        email: '',
        phone: '',
        city: '',
        education: '',
        faculty: '',
        course: '',
        preferred_period: '',
        experience: '',
        motivation: '',
        resume_url: ''
      }
    },

    getSelectedPathTitle() {
      return this.selectedPath === 'programmer' ? '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç 1–°' : '–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç 1–°'
    },

    getSelectedPathDescription() {
      return this.selectedPath === 'programmer' 
        ? '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ 1–°' 
        : '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-—Ä–µ—à–µ–Ω–∏–π –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ 1–°'
    },

    async submitApplication() {
      this.isSubmitting = true
      try {
        // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏
        console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏:', {
          path: this.selectedPath,
          type: this.applicationType,
          form: this.applicationForm
        })
        
        // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        await new Promise(resolve => setTimeout(resolve, 2000))
        
        this.isSubmitting = false
        this.closeApplicationModal()
        alert('‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.')
        
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏:', error)
        this.isSubmitting = false
        alert('‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.')
      }
    }
  }
}
</script>

<style scoped>
/* Add some spacing for mobile and desktop */
@media (min-width: 1024px) {
  section > div {
    display: flex;
  }
}
</style>